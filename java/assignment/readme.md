
**链接转换接口**


**简介**：<p>接口文档展示</p>


**HOST**:127.0.0.1:56789


**联系人**:


**Version**:1.0

**接口路径**：/v2/api-docs


# URL转换接口

## change

**接口描述**:长链接转变成短链接

**接口地址**:`/assignment/v1/change`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`



**请求参数**：

| 参数名称         | 参数说明     |     in |  是否必须      |  数据类型  |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|url| 长链接URL  | query | true |string  |    |

**响应示例**:

```json
{
	"code": 0,
	"data": "",
	"msg": ""
}
```

**响应参数**:


| 参数名称         | 参数说明                             |    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code|   |integer(int32)  | integer(int32)   |
|data|   |string  |    |
|msg|   |string  |    |





**响应状态**:


| 状态码         | 说明                            |    schema                         |
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |Result«string»|
| 401 | Unauthorized  ||
| 403 | Forbidden  ||
| 404 | Not Found  ||
## restore

**接口描述**:短链接还原成长链接

**接口地址**:`/assignment/v1/restore/{key}`


**请求方式**：`GET`


**consumes**:``


**produces**:`["*/*"]`



**请求参数**：

| 参数名称         | 参数说明     |     in |  是否必须      |  数据类型  |  schema  |
| ------------ | -------------------------------- |-----------|--------|----|--- |
|key| key  | path | true |string  |    |

**响应示例**:

```json
{
	"code": 0,
	"data": "",
	"msg": ""
}
```

**响应参数**:


| 参数名称         | 参数说明                             |    类型 |  schema |
| ------------ | -------------------|-------|----------- |
|code|   |integer(int32)  | integer(int32)   |
|data|   |string  |    |
|msg|   |string  |    |





**响应状态**:


| 状态码         | 说明                            |    schema                         |
| ------------ | -------------------------------- |---------------------- |
| 200 | OK  |Result«string»|
| 401 | Unauthorized  ||
| 403 | Forbidden  ||
| 404 | Not Found  ||

# Jacoco测试

![image-20210624201159536](/Users/Able/Library/Application Support/typora-user-images/image-20210624201159536.png)

# 设计思路

![image-20210624201729631](/Users/Able/Library/Application Support/typora-user-images/image-20210624201729631.png)



### 长链接转短链接算法

长链接转短链接的算法根据实际需要可以选择支持如下特性：

(1) 高可用，服务可以部署到多台服务器上不会出现单点故障问题。

(2) 长链接和短链接1:1映射。一方面可以解决存储资源，另外也可以方便点击统计等功能实现。

(3) 少碰撞。生成短链接性能不会随着已生成短链接数量增加而线性增加。

比较常用的算法有：

1. 随机算法 & hash算法(MD5)
2. 发号器 & 进制转化
3. 预生成 & 访问分配

#### 随机算法

随机算法原理是根据长链接随机生成字符串，然后将字符串映射到[0-9][a-z][A-Z]集合上。

为了减少随机造成的冲突，很多公司会使用微博的短链接生成算法的变种。

算法一

1)将长网址md5生成32位签名串,分为4段, 每段8个字节; 2)对这四段循环处理, 取8个字节, 将他看成16进制串与0x3fffffff(30位1)与操作, 即超过30位的忽略处理; 3)这30位分成6段, 每5位的数字作为字母表的索引取得特定字符, 依次进行获得6位字符串; 4)总的md5串可以获得4个6位串; 取里面的任意一个就可作为这个长url的短url地址;

这种算法,虽然会生成4个,但是仍然存在重复几率,下面的算法一和三,就是这种的实现.

算法二

62个可选元素在随机选两个组成长度为64的字符数组。

1. 随机生成36位 0/1的随机数
2. 36位分成6份，通过randomValue>>6以此获取低6位元素。
3. (randomValue>>6) & 0x3F 获取对应的字符

算法二冲突的概率为1/64^6=1/2^36。

#### 发号器 & 进制转化

算法三

1. 首先请求发号器生成不重复十进制数字
2. 十进制数字转化成62进制

该算法能够支持62^6=500多亿条长链接。

发号器可以选择数据库自增ID，snake算法，redis等诸多实现。

#### 预生成 & 访问分配

算法四

a-zA-Z0-9 这62位取6位组合,可产生500多亿个组合数量.把数字和字符组合做一定的映射,就可以产生唯一的字符串,如第62个组合就是aaaaa9,第63个组合就是aaaaba,再利用洗牌算法，把原字符串打乱后保存，那么对应位置的组合字符串就会是无序的组合。 把长网址存入数据库,取返回的id,找出对应的字符串,例如返回ID为1，那么对应上面的字符串组合就是bbb,同理 ID为2时，字符串组合为bba,依次类推,直至到达64种组合后才会出现重复的可能，所以如果用上面的62个字符，任意取6个字符组合成字符串的话，你的数据存量达到500多亿后才会出现重复的可能。

上述原理来自于知乎！



# 吴新 - 个人简历

性别：男

年龄：30

手机：15001236918

邮箱：xingeking@163.com

求职意向：系统架构师、高级研发工程师

教育经历：北京大学、郑州大学 ；计算机专业；

# 专业技能

1. 熟悉应用型互联网系统的设计与架构，能完成需求的底层业务分析、技术架构、编码实现；
2. 熟练Java编程语言以及各种JAVA系列框架中间件技术，熟悉Spring Cloud,、Dubbo 的微服务技术；
3. 熟练前端技术 HTML CSS  JS JQuery AJAX 以及websocket技术；
4. 熟练使用项目管理工具SVN、GIT，以及API文档、项目进度跟踪等管理系统；
5. 熟练Linux环境下的项目部署、运维，以及系统和项目的参数优化；
6. 熟悉分布式环境的项目开发、运维，分布式环境的会话、事务处理、高并发削峰、解耦；
7. 熟练MySQL、Oracle数据库的设计与优化，MongoDB的优化设计、Redis缓存技术、Kafka的应用；
8. 熟悉阿里云/百度云等云服务的产品的使用以及高性能系统应用架构；
9. 了解C C++ C# PHP Python Scala VBScript等语言并能基于项目进行该语言的业务修改；
10. 了解 Android IOS 微信小程序 微信支付 支付宝支付 等业务实现；

# 工作经历

## 公司列表

- 物聚人合 /  技术负责人 （2019.01 ~ 2020.12）
- 讯奇科技 / 项目架构师 （ 2016.07 ~ 2018.12 ）
- 中软国际 / Java开发工程师 （ 2012.07 ~ 2016.06 ）

# 项目经历

## 嗨赚宝

### 项目背景：

​    在2018年网赚类的APP产品爆发一股潮流，我和朋友们看好这个业务模式，在准备了1年后，就于2019年元旦开始全职投入。我们调研了抖音极速版、趣头条、好运APP、开运宝等产品，做出了一些业务分析和功能汇集，就开始了我们自己的产品设计、研发。

### 功能模块：

- 短视频功能，短视频的分发、个性化推荐、评论、过滤；
- 新闻资讯功能，爬虫更新新闻、新闻推荐；
- 大转盘游戏模块；
- 刮刮乐游戏模块；
- 在线对答游戏模块；
- 个人中心业务模块；
- 积分业务模块；
- 积分兑换现金，现金提现业务模块；

### 技术架构 :

-  前端原生Android开发、迭代，打包分发到小米、华为、OPPO、vivo、魅族、应用宝开发者市场；
-  后端使用Spring Boot 开发API接口，使用token校验验证用户，采用SLB进行多节点部署，Redis缓存；
-  运营业务中台使用Spring MVC 开发业务管理系统，使用thymeleaf视图显示，Echart做报表；
-  用户DAU监控使用百度统计，用户反馈使用阿里云feedback，动态参数使用腾讯Bugly；
-  数据库使用MongoDB管理，大数据使用MaxCompute，日志使用Loghash；
-  爬虫技术使用Python 大文件存储使用OSS存储、CDN分发；
-  支付业务、流程服务使用MQ实现；

### 责任描述:

​    负责整个项目的架构设计、实现优化、迭代上线运维工作。同时要分析运营数据，优化变现模式；面对用户量激增产生的并发和压力问题进行优化解决。

1. 运营业务中台系统模块；
2. 产品交互API系统模块；
3. 日志上报、监控、分析业务模块；
4. 大数据统计报表业务模块；
5. 定时任务job中爬虫业务模块；
6. 数据库监控、服务器监控、项目运行监控、系统运维；
7. 后端产品的架构分块、研发、测试、上线、运维、优化；
8. 产品功能底层业务的分析、数据库建模、业务数据查询优化；

## 广告投放

### 项目背景：

​    拥有600万DAU的app媒体和在此投放广告的广告主，为了使客户更方便投放广告，媒体获得更好收益。公司决定自主研发广告投放平台。

![image-20210623082045641](/Users/Able/Library/Application Support/typora-user-images/image-20210623082045641.png)

### 功能模块：

- 广告主投放广告的网站；
- 广告媒体联盟网站，注册成为媒体广告消费端；
- 广告投放API；
- 广告投放精准分析系统；
- 广告计费系统，媒体端月结，广告主投放广告实时监控；
- 财务结算系统；
- 防作弊系统；
- 业务中台系统；

### 技术架构 :

-  前端网站并发量不大采用Spring Mvc和thymeleaf Bootstrap完成业务的页面；
-  后端使用Spring Boot 开发API接口，使用Appsect + secret + ad code校验，分布式集群部署；
-  网站后端使用Shiro做权限控制，构建用户管理系统；
-  广告投放API服务于600万日活用户日120亿次请求，采用Redis防止数据穿透，Mongo Db主从配置；
-  精准分析采用阿里云open search进行多维度索引和查询；
-  使用loghash日志推送配合storm流式计算进行实时广告消耗统计，日志数据存入Max Compute大数据平台用于T-1的计算；
-  使用MQ获得广告投放反馈结果消息，依据流计算分析进行作弊判断和实时反馈；
-  媒体端申请代码位获取开屏切屏、信息流等形势广告，月初进行XXL Job任务统计并给客户发送结算单

### 责任描述:

​     负责整个项目的架构设计，带领团队人员进行任务分发、进度跟踪、代码review。团队拥有开发人员4位、测试1位、产品1位、UI设计1位、运维1位。在团队的2个月合作中完成项目的上线。迭代周期1月一次。

1. 广告投放业务系统的实现分析；
2. 业务系统分模块架构与设计；
3. 业务模型建模和数据库设计；
4. 流计算模型和大数据业务计算逻辑实现；
5. 防作弊消息服务架构模型设计；
6. 数据库监控、服务器监控、项目运行监控、系统运维；
7. 结算的业务规则实现；
8. 后端产品的架构分块、研发、测试、上线、运维、优化；

## 软件版权保护

### 项目背景：

​    传统的软件保护类似于银行U盾的实现模式，公司为了简化U盾实体，实现了在线云锁的软件版权保护实现模式，为此构建了云端软件锁项目。

### 功能模块：

- 在线软件锁产品模块；
- 离线软件锁产品模块；
- 密码学服务器；
- 锁产品业务中台；
- 锁产品电商系统；
- 用户管理模块；

### 技术架构 :

-  使用Restful接口提供高性能的API；
-  使用Netty服务实现基于NIO的HTTP服务器；
-  使用Dubbo实现微服务调用；
-  使用自有研发的鉴权且1次有效的底层Http SDK实现请求安全；
-  使用非对称加密实现API业务数据的加解密；
-  使用Kafka实现日志流分析统计；
-  接入微信、支付宝实现电商支付业务；

### 责任描述:

​    配合架构师实现各个模块业务的实现，完成技术总监定的KPI。

1. 鉴权底层SDK封装；

2. 加解密API接口实现；

3. 日志上报、监控；

4. 电商用户管理模块、权限设置；

5. 软件锁模型定义以及业务实现；

6. 动态配置文件系统disconfig业务数据同步实现；

7. 接入微信、支付宝的支付代码实现支付、退款业务；

## 证券频道时间定势

   ### 项目背景：

   ​    为客户提供金融课程培训，便于客户的参与和学习，搭建了时间定势的网站和微信公众号平台。项目主要是网站端和公众号端业务。

   ### 功能模块：

   - 系统的分角色用户权限管理模块；
   - 公司CRM运营管理模块；
   - 官网网站资讯模块；
   - 官方网站视频直播模块；
   - 官方网站课程模块；
   - 官方网站在线聊天资讯模块；
   - 购买课程模块；
   - 会员模块；
   - 公众号-菜单管理-用户管理-业务同官网；

   ### 技术架构 :

   -  官网前端使用Bootstrap建设，聊天使用WebSocket实现即时通讯；
   -  后端使用Spring MVC MyBatis Mysql实现业务；
   -  使用Shiro实现用户权限，对充钱买课的用户实现权限分级；
   -  接入微信支付、支付宝支付完成用户会员购买的支付；
   -  使用wx-pay 中间件实现微信公众号的快速开发；
   -  直播使用第三方引入方式，引入YY直播；
   -  课程视频存储在OSS里，使用CDN分发；

   ### 责任描述:

   ​    负责整个项目的架构设计，开发、上线运维工作。带领一个UI设计人员、一个前端人员实现web和mobile的网页，自己负责后端的数据库、存储、业务代码实现。

      1. 分析客户的需求、实现架构方案选型；
      2. 协助购买阿里云服务器、数据库完成域名的备案，微信、支付宝的接入；
      3. 实现后端代码和API交互接口；
      4. 协助用户进行项目的上线和运维；

## 直投网

### 项目背景：

​    该产品是互联网金融网站，公司顺应时代准备向互联网金融门户发展，开展了关于P2P和众筹的业务。在业务开展前获得了天使轮500万投资。

### 功能模块：

- 用户管理模块-个人中心-我的投资-我的收益-我的众筹；
- 融资项目列表-明细；
- 众筹项目列表-明细；
- 活动运营模块；
- 新闻资讯模块；
- 业务中台系统；
- 支付业务模块；
- 提现业务模块；

### 技术架构 :

-  前端使用VUE技术调用后端接口API实现前后端分离；
-  后端使用Java 实现业务，接口使用Spring MVC技术实现，数据库使用MySQL；
-  业务权限控制使用Shiro控制，对用户分角色和权限；
-  数据库连接使用Druid数据连接池，方便对数据库监控；
-  活动运营使用Redis进行高并发的缓冲，使用MQ队列实现开抢活动；

### 责任描述:

​    负责项目的业务实现，根据产品经理的需求实现数据库的定义，根据CTO的安排完成排期内的任务。

1. 系统框架的选用SSM + Mysql + Redis；
2. 用户权限模块设计Shiro实现；
3. 前端调用的接口API以及使用md写文档；
4. 活动业务的高并发稳定性实现方案 Redis缓存以及分布式锁；
5. 使用Nginx进行负载均衡；
6. 数据库监控、服务器监控、项目运行监控、系统运维；

## 证监会ERP系统

### 项目背景：

​    该系统是为中国证监会法律部定做的一套系统，目的是取代传统的纸质办公模式，Excel的手工统计模式，并增加一些具有统计分析业务的功能。对证监会各个部门，派出机构及各个证监局，以及全国的律师事务所进行表单的报告，汇报，一些公告通知的发布，证件制作的流程，部门及人员的分级管理，各个报表的统计分析等。

### 功能模块：

- 用户登录模块；
- 仪表盘报表模块；
- 表单报告提报；
- 表单报告后分级别审批流程；
- 业务状态不同的数据统计；
- 业务报告后的数据统计分析报表；
- 数据库备份机制；
- 通知与公告；

### 技术架构 :

-  前端使用HTML代码实现，使用JQuery EasyUI实现视图框架；
-  后端Spring DWR Mybatis实现业务；
-  数据库使用Oracle，每天对数据进行一次全量备份；
-  使用Shiro实现用户系统的权限分级；
-  使用Bird实现业务报表计算和统计；
-  仪表盘使用HighChart实现；
-  业务流程使用Workflow；

### 责任描述:

​    负责项目的业务实现，项目的框架由架构师搭建好，我带领一个实习生去驻场证监会完成需求的确认，然后对业务进行数据库建模，完成业务流程。

1. 完成Oracle的安装、数据库实例的创建、业务表结构的设计；
2. 完成用户权限的设计与实现；
3. 完成报表提交、审批、验收流程的设计与实现；
4. 完成前端HTML的编写；
5. 完成HighChart的图表实现；
6. 完成服务器监控、项目运行监控、系统运维；

## 阿里健康BI系统

### 项目背景：

​    基于阿里巴巴大数据平台的数据挖掘和商业智能系统，对中信21世纪的药监局数据进行数据挖掘，促使中台系统能够看到药品数据报表、药品动态流向等数据。

### 功能模块：

- 系统用户管理模块；
- 仪表盘报表模块；
- 药品数据监控、实时分析；
- 单点登录SSO；

### 技术架构 :

-  前端基于Bootstrap的HTML实现网站，Highchart实现报表和仪表盘；
-  后端Spring4、Mybatis、Spring MVC、Shiro整合实现业务系统；
-  数据存储在Hbase中；
-  Nginx实现多节点部署；
-  Redis实现session共享；
-  使用Tomcat服务器；

### 责任描述:

​    负责前端代码的编写、后端业务代码的编写。首先在系统架构上，采用Spring4、Mybatis、Spring MVC、Shiro整合。Spring是比较优秀的JAVA框架，其IOC特性可以实现Java Bean的良好管理与层次控制。AOP特性在事务、日志、异常管理上更加简单灵活。数据持久层采用druid数据监控连接池，性能更加优化，Mybatis的半自动化ORM可以实现灵活的SQL操作。采用Spring MVC做前端控制器，其性能更加的优秀和灵活，与Struts2相比，配置更加灵活而且安全性能更好（毕竟Struts2有漏洞爆料），与Servlet相比其使用更加简单，同时其拦截器相对过滤器更加强大。安全控制使用Shiro框架，shiro是轻量级，简单，易用，功能优越的。对于角色、权限、资源、用户等的管理上比Spring Security更加灵活方便，在业务层、数据层、系统层、页面展现、URL等都可以使用shiro进行控制，另外shiro还可以实现单点登录，控制单人登录等等。系统的架构尽量低耦合、高内聚，模块层次分明，模块之间是独立的隔离的，互不影响。在系统的前端架构采用Bootstrap和highchart技术。图表展现使用highchart图表，其功能强大，采用SVG和VML（针对旧IE）实现作图，显示更加优越。Bootstrap风格简单漂亮，容易做样式更改，在数据表格，表单上更容易的使用，使风格更加统一。职责是进行业务开发，写DAO的SQL取数，在Service层进行分析，在Controller层写视图交互接口，页面跳转等，然后前端的图表，报表展现进行开发。同时负责政府版本的上线更新和系统维护。在大屏的显示上，使用NodeJS和MongoDB。调用高德地图API，使用D3JS，WEBGL等使性能更加快，页面更加炫，客户体验更加优越。

# 个人评价

​    热爱互联网技术的研究与应用。2011年在郑州大学校内就开始给企业做项目，完成了南阳油田防火系统的开发，在学校拿到了国家奖学金，获得国家863大学生科技竞赛一等奖；2012年来北京工作，入职北京中软国际大数据服务部，做JAVA研发。在JAVA的软件设计与编码上积累了丰富经验。2014年专升本就读北京大学，不断的学习研究计算机科学与技术，在校期间参加北京市大学生创新竞赛2次，分别获得1等奖与2等奖。在工作的过程中不断地挑战自己，希望能够在信息技术领域有较好的发展。17年开始除了工作，也在研究互联网方向的创业机会，19年开始了自己的创业工作，完成了2年300万用户，DAU最高22万的APP产品，其中后端的系统架构设计与实现是我一人完成。在互联网软件架构设计上有浓厚的兴趣，希望能够加入有趣的公司团队，创造更好的产品与服务！

个人代码仓库86个自创项目：https://gitee.com/dizena 
